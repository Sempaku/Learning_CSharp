# Асинхронные методы, async и await  
Асинхронный метод обладает следующими признаками:
- В заголовке метода используется модификатор async
- Метод содержит одно или несколько выражений await
- В качестве возвращаемого типа используется один из следующих:
  + void
  + Task
  + Task<T>
  + ValueTask<T>

Асинхронный метод, как и обычный, может использовать любое количество параметров или не использовать их вообще.
Однако асинхронный метод не может определять параметры с модификаторами ***out, ref и in.***

Также стоит отметить, что слово **async**, которое указывается в определении метода, **НЕ делает автоматически метод асинхронным**. 
Оно лишь указывает, что данный метод может содержать одно или несколько выражений **await.**

## Задержка асинхронной операции и Task.Delay
В асинхронных методах для остановки метода на некоторое время можно применять метод Task.Delay(). 
В качестве параметра он принимает количество миллисекунд в виде значения int, либо объект TimeSpan, который задает время задержки:
```C#
await PrintAsync();   // вызов асинхронного метода
Console.WriteLine("Некоторые действия в методе Main");
 
// определение асинхронного метода
async Task PrintAsync()
{
    await Task.Delay(3000);     // имитация продолжительной работы
    // или так
    //await Task.Delay(TimeSpan.FromMilliseconds(3000));
    Console.WriteLine("Hello METANIT.COM");
}   
```

## Преимущества асинхронности
А оператор await применяется лишь тогда, когда нам нужно дождаться завершения асинхронных операций - то есть в конце программы. 
И в этом случае общее выполнение программы займет не менее 3 секунд, но гораздо меньше 9 секунд.
```C#
var tomTask = PrintNameAsync("Tom");
var bobTask = PrintNameAsync("Bob");
var samTask = PrintNameAsync("Sam");
 
await tomTask;
await bobTask;
await samTask;
// определение асинхронного метода
async Task PrintNameAsync(string name)
{
    await Task.Delay(3000);     // имитация продолжительной работы
    Console.WriteLine(name);
}
```

## Опеределение асинхронного лямбда-выражения
Асинхронную операцию можно определить не только с помощью отдельного метода, но и с помощью лямбда-выражения:

```C#
// асинхронное лямбда-выражение
Func<string, Task> printer = async (message) =>
{
    await Task.Delay(1000);
    Console.WriteLine(message);
};
 
await printer("Hello World");
await printer("Hello METANIT.COM");
```
